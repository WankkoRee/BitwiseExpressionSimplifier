# 位运算表达式化简器

## 功能特性

将**表达式中未知数的名称集合**、**表达式**、**位长度**传入`toNumberOperation`方法，可返回由`NumberOperation`类派生的`NumberExpression`类、`NumberNumber`类 或`NumberKnownNumber`类。

`NumberOperation`类有`bitwise`属性，可供查看每位的最简表达式。

```python
result = toNumberOperation({'x', 'y'}, "(y^(x>>2))&0xF0F", 16).bitwise
# result[0] = 0
# result[1] = 0
# result[2] = 0
# result[3] = 0
# result[4] = y[4] ^ x[6]
# result[5] = y[5] ^ x[7]
# result[6] = y[6] ^ x[8]
# result[7] = y[7] ^ x[9]
# result[8] = 0
# result[9] = 0
# result[10] = 0
# result[11] = 0
# result[12] = y[12] ^ x[14]
# result[13] = y[13] ^ x[15]
# result[14] = y[14]
# result[15] = y[15]
```

表达式中无未知数时，**表达式中未知数的名称集合**请置为`set()`，而不是`{}`。

**表达式**支持自动判定运算优先级，支持任意长度的空格填充，支持多层括号的嵌套。

**位长度**为运算时的溢出边界，用于模拟程序中的真实溢出情况，如在`int`环境下，其值应当为`32`。

## 支持化简的情况

1. 位移操作
   > 缺省溢出位将直接置`0`
2. `1 & x` or `x & 1`
   > =`x`
3. `0 & x` or `x & 0`
   > =`0`
4. `x & x`
   > =`x`
5. `x & ~x`
   > =`0`
6. `(x & y & ...) & x` or `x & (x & y & ...)`
   > =`x & y & ...`
7. `(x & y & ...) & ~x` or `~x & (x & y & ...)`
   > =`0`
8. `(x & y & ...) & (y & z & ...)`
   > =`(x & y & ...) & (z & ...)`
9. `(x & y & ...) & (~y & z & ...)` or `(x & ~y & ...) & (y & z & ...)`
   > =`0`
10. `1 | x` or `x | 1`
   > =`1`
11. `0 | x` or `x | 0`
   > =`x`
12. `x | x`
   > =`x`
13. `x | ~x`
   > =`1`
14. `(x | y | ...) | x` or `x | (x | y | ...)`
   > =`x | y | ...`
15. `(x | y | ...) | ~x` or `~x | (x | y | ...)`
   > =`1`
16. `(x | y | ...) | (y | z | ...)`
   > =`(x | y | ...) | (z | ...)`
17. `(x | y | ...) | (~y | z | ...)` or `(x | ~y | ...) | (y | z | ...)`
   > =`1`
18. `0 ^ x` or `x ^ 0`
   > =`x`
19. `1 ^ x` or `x ^ 1`
   > =`~x`
20. `x ^ x`
   > =`0`
21. `x ^ ~x`
   > =`1`
22. `(x ^ y ^ ...) ^ x` or `x ^ (x ^ y ^ ...)`
   > =`y ^ ...`
23. `(x ^ y ^ ...) ^ ~x` or `~x ^ (x ^ y ^ ...)`
   > =`~(y ^ ...)`
24. `(x ^ y ^ ...) ^ (y ^ z ^ ...)`
   > =`(x ^ ...) ^ (z ^ ...)`
25. `(x ^ y ^ ...) ^ (~y ^ z ^ ...)` or `(x ^ ~y ^ ...) ^ (y ^ z ^ ...)`
   > =`~((x ^ ...) ^ ( z ^ ...))`
26. `0 ⊙ x` or `x ⊙ 0`
   > =`x`
27. `1 ⊙ x` or `x ⊙ 1`
   > =`~x`
28. `x ⊙ x`
   > =`0`
29. `x ⊙ ~x`
   > =`1`
30. `(x ⊙ y ⊙ ...) ⊙ x` or `x ⊙ (x ⊙ y ⊙ ...)`
   > =`y ⊙ ...`
31. `(x ⊙ y ⊙ ...) ⊙ ~x` or `~x ⊙ (x ⊙ y ⊙ ...)`
   > =`~(y ⊙ ...)`
32. `(x ⊙ y ⊙ ...) ⊙ (y ⊙ z ⊙ ...)`
   > =`(x ⊙ ...) ⊙ (z ⊙ ...)`
33. `(x ⊙ y ⊙ ...) ⊙ (~y ⊙ z ⊙ ...)` or `(x ⊙ ~y ⊙ ...) ⊙ (y ⊙ z ⊙ ...)`
   > =`~((x ⊙ ...) ⊙ ( z ⊙ ...))`

## 最后

- 有任何**错误**、**BUG**、**未化简**的情况，请务必发起`issue`告知开发者。
- 有任何**建议**、**意见**，如认为合理，同样请务必发起`issue`告知开发者。
